import{g as _,v as x,x as N,r as p,y as S,a as t,d as F,c as v,w as n,o as c,e as V,a1 as T,_ as b,S as R,T as B,H as G,W as P,a0 as j}from"./index-iDuiBTVN.js";import{C as A}from"./CartelaBingo-BtZCnO0z.js";import{D}from"./DefaultLayout-BCDvamym.js";import{G as h}from"./gameService-HaNlgpQa.js";import{m as E,c as I,f as L,V as k,g as M}from"./VTextField-DViFKFF5.js";import{a as U,b as g,c as $,V as q,_ as H}from"./VMain-9hXKiq8B.js";import{a as W,b as z,d as J,e as K}from"./VCard-VIAF0voS.js";const O=_({...x(),...E()},"VForm"),Q=N()({name:"VForm",props:O(),emits:{"update:modelValue":o=>!0,submit:o=>!0},setup(o,d){let{slots:l,emit:s}=d;const m=I(o),u=p();function f(a){a.preventDefault(),m.reset()}function e(a){const i=a,r=m.validate();i.then=r.then.bind(r),i.catch=r.catch.bind(r),i.finally=r.finally.bind(r),s("submit",i),i.defaultPrevented||r.then(w=>{var y;let{valid:C}=w;C&&((y=u.value)==null||y.submit())}),i.preventDefault()}return S(()=>{var a;return t("form",{ref:u,class:["v-form",o.class],style:o.style,novalidate:!0,onReset:f,onSubmit:e},[(a=l.default)==null?void 0:a.call(l,m)])}),L(m,u)}}),X=F({__name:"index",setup(o){const d=p(""),l=p(""),s=p([]),m=()=>{if(l.value!==""){const f=l.value,e=M(),a={name:`${f}`,ticketNumbers:{...e}};s.value.push(a),l.value=""}};let u=async()=>{if(s.value.length<2)return window.alert("São necessários pelo menos 2 jogadores!");const e=await new h().addGame({gameNickname:d.value,finished:!1,drawnNumbers:[],players:[...s.value],winners:[]});e&&j.push(`/jogo/${e}`)};return(f,e)=>(c(),v(D,null,{default:n(()=>[t(q,{justify:"center"},{default:n(()=>[t(U,{cols:"12",md:"6"},{default:n(()=>[t(W,null,{default:n(()=>[t(z,null,{default:n(()=>e[2]||(e[2]=[V("Setup a new game")])),_:1}),t(J,null,{default:n(()=>[t(Q,{onSubmit:T(b(u),["prevent"])},{default:n(()=>[t(k,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),label:"Game name",required:""},null,8,["modelValue"]),t(k,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),label:"New player name"},null,8,["modelValue"]),t(g,{onClick:m,color:"primary",class:"mt-3"},{default:n(()=>e[3]||(e[3]=[V(" Add new player ")])),_:1}),s.value.length?(c(),v($,{key:0,class:"d-flex flex-wrap ga-6 justify-sm-start"},{default:n(()=>[(c(!0),R(G,null,B(s.value,a=>(c(),v(A,{"player-name":a.name,"ticket-numbers":a.ticketNumbers,key:a.name},null,8,["player-name","ticket-numbers"]))),128))]),_:1})):P("",!0)]),_:1},8,["onSubmit"])]),_:1}),t(K,null,{default:n(()=>[t(g,{color:"success",class:"mt-3",onClick:b(u)},{default:n(()=>e[4]||(e[4]=[V("START GAME")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),se=H(X,[["__scopeId","data-v-9e075c14"]]);export{se as default};
